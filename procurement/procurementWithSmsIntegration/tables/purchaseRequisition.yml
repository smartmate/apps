type: table
key: purchaseRequisition
name: Purchase Requisitions
itemName: Purchase Requisition
summary:
  title: "Purchase Requisition by {{requester.firstName}} {{requester.lastName}}"
  subtitle: "Created at {{createdAt}}"

permissions:
  requester:
    create: false
    view: true
    edit:
      own: false
      assigned: false
    delete: false
  manager:
    create: false
    view: true
    edit:
      own: true
      assigned: true
    delete: true
  purchaser:
    create: false
    view: true
    edit:
      own: false
      assigned: false
    delete: false
  accountant:
    create: false
    view: true
    edit:
      own: false
      assigned: false
    delete: false

fields:
  createdAt:
    type: datetime
    label: Created At
  approvedAt:
    type: datetime
    label: Approved At
  approved:
    type: boolean
    label: Approved
  requestedBy:
    type: user
    label: Request By
    readOnly: true
  approvedBy:
    type: user
    label: Approved By
    required: true
  approvedQuotation:
    type: text
    label: Approved Quotation
  rejectReason:
    type: textArea
    label: Reject Reason
  rejectQuotationsReason:
    type: textArea
    label: Reject Reason
  requestedItems:
    type: table
    table: requestedItems
    label: Requested Items 
    required: true
  justification:
    type: textArea
    label: Justification
    required: true
  comments:
    type: textArea
    label: Comments
  deliveryDate:
    type: date
    label: Delivery Date
  department:
    type: relationship
    label: Department
    table: departments
    required: true
  quotations:
    type: table
    label: Quotations
    table: quotations
